{"version":3,"file":"bin.js","sourceRoot":"","sources":["../bin.ts"],"names":[],"mappings":"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","sourcesContent":["#!/usr/bin/env node\nimport { satisfies } from 'semver';\nimport { red } from './lib/Helper/Logging';\n\nimport yargs from 'yargs';\nimport { hideBin } from 'yargs/helpers';\n\nconst NODE_VERSION_RANGE = '>=18.20.0';\n\n// Have to run this above the other imports because they are importing clack that\n// has the problematic imports.\nif (!satisfies(process.version, NODE_VERSION_RANGE)) {\n  red(\n    `Sentry wizard requires Node.js ${NODE_VERSION_RANGE}. You are using Node.js ${process.version}. Please upgrade your Node.js version.`,\n  );\n  process.exit(1);\n}\n\nimport { Integration, Platform } from './lib/Constants';\nimport { run } from './src/run';\nimport { WIZARD_VERSION } from './src/version';\n\nexport * from './lib/Setup';\n\nconst PRESELECTED_PROJECT_OPTIONS: Record<string, yargs.Options> = {\n  'preSelectedProject.authToken': {\n    describe: 'Preselected project auth token',\n    hidden: true,\n  },\n  'preSelectedProject.selfHosted': {\n    describe: 'Preselected project is self-hosted',\n    hidden: true,\n  },\n  'preSelectedProject.dsn': {\n    describe: 'Preselected project DSN',\n    hidden: true,\n  },\n  'preSelectedProject.id': {\n    describe: 'Preselected project id',\n    hidden: true,\n  },\n  'preSelectedProject.projectSlug': {\n    describe: 'Preselected project slug',\n    hidden: true,\n  },\n  'preSelectedProject.projectName': {\n    describe: 'Preselected project name',\n    hidden: true,\n  },\n  'preSelectedProject.orgId': {\n    describe: 'Preselected organization id',\n    hidden: true,\n  },\n  'preSelectedProject.orgName': {\n    describe: 'Preselected organization name',\n    hidden: true,\n  },\n  'preSelectedProject.orgSlug': {\n    describe: 'Preselected organization slug',\n    hidden: true,\n  },\n};\nconst xcodeProjectDirOption: yargs.Options = {\n  default: undefined,\n  describe:\n    'Path to the project containing the Xcode project file. Only applies to the Apple wizard.',\n  type: 'string',\n  // This is a hidden option because it is used as an internal option\n  hidden: true,\n};\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\nconst argv = yargs(hideBin(process.argv), process.cwd())\n  .options({\n    debug: {\n      default: false,\n      describe: 'Enable verbose logging\\nenv: SENTRY_WIZARD_DEBUG',\n      type: 'boolean',\n    },\n    uninstall: {\n      default: false,\n      describe: 'Revert project setup process\\nenv: SENTRY_WIZARD_UNINSTALL',\n      type: 'boolean',\n    },\n    'skip-connect': {\n      default: false,\n      describe:\n        'Skips the connection to the server\\nenv: SENTRY_WIZARD_SKIP_CONNECT',\n      type: 'boolean',\n    },\n    quiet: {\n      default: false,\n      describe:\n        'Do not fallback to prompting user asking questions\\nenv: SENTRY_WIZARD_QUIET',\n      type: 'boolean',\n    },\n    i: {\n      alias: 'integration',\n      choices: Object.keys(Integration),\n      describe:\n        'Choose the integration to setup\\nenv: SENTRY_WIZARD_INTEGRATION',\n    },\n    p: {\n      alias: 'platform',\n      choices: Object.keys(Platform),\n      describe: 'Choose platform(s)\\nenv: SENTRY_WIZARD_PLATFORM',\n      type: 'array',\n    },\n    u: {\n      alias: 'url',\n      describe: 'The url to your Sentry installation\\nenv: SENTRY_WIZARD_URL',\n    },\n    project: {\n      type: 'string',\n      describe: 'The Sentry project slug to use',\n      defaultDescription: 'Select project during setup',\n      default: undefined,\n    },\n    org: {\n      type: 'string',\n      describe: 'The Sentry org slug to use',\n      defaultDescription: 'Select org during setup',\n      default: undefined,\n    },\n    saas: {\n      default: false,\n      describe: 'Skip the self-hosted or SaaS URL selection process',\n      defaultDescription: 'Select self-hosted or SaaS during setup',\n      type: 'boolean',\n    },\n    s: {\n      alias: 'signup',\n      default: false,\n      describe: 'Redirect to signup page if not logged in',\n      type: 'boolean',\n    },\n    'disable-telemetry': {\n      default: false,\n      describe: \"Don't send telemetry data to Sentry\",\n      type: 'boolean',\n    },\n    'promo-code': {\n      alias: 'promo-code',\n      describe: 'A promo code that will be applied during signup',\n      type: 'string',\n    },\n    'force-install': {\n      default: false,\n      describe: 'Force install the SDK NPM package',\n      type: 'boolean',\n    },\n    'ignore-git-changes': {\n      default: false,\n      describe: 'Ignore git changes in the project',\n      type: 'boolean',\n    },\n    'xcode-project-dir': xcodeProjectDirOption,\n    ...PRESELECTED_PROJECT_OPTIONS,\n  })\n  // This prevents `yargs` from trying to read the local package.json\n  // as it's not available in the Node Single Executable Binary artifacts versions\n  .version(WIZARD_VERSION).argv;\n\n// @ts-expect-error - for some reason TS doesn't recognize the aliases as valid properties\n// meaning it only knows e.g. u but not url. Maybe a bug in this old version of yargs?\n// Can't upgrade yargs though without dropping support for Node 14.\nvoid run(argv);\n"]}