{"version":3,"file":"sdk-example.js","sourceRoot":"","sources":["../../../src/sveltekit/sdk-example.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,uCAAyB;AACzB,2CAA6B;AAC7B,+EAA+E;AAC/E,6DAAmC;AAGnC,2CAGqB;AAErB;;GAEG;AACI,KAAK,UAAU,iBAAiB,CACrC,YAAiC,EACjC,YAKC;IAED,MAAM,eAAe,GAAG,YAAY,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,IAAI,YAAY,CAAC;IACxE,MAAM,gBAAgB,GAAG,IAAI,CAAC,OAAO,CACnC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,qBAAqB,CAAC,CAClD,CAAC;IAEF,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,eAAe,CAAC,EAAE;QACnC,iBAAK,CAAC,GAAG,CAAC,IAAI,CACZ,yDAAyD,eAAe,EAAE,CAC3E,CAAC;QACF,EAAE,CAAC,SAAS,CAAC,eAAe,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;KACpD;IAED,IAAI,CAAC,EAAE,CAAC,UAAU,CAAC,gBAAgB,CAAC,EAAE;QACpC,EAAE,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;KAChC;SAAM;QACL,iBAAK,CAAC,GAAG,CAAC,IAAI,CACZ,uDAAuD,IAAI,CAAC,QAAQ,CAClE,gBAAgB,CACjB,wCAAwC,CAC1C,CAAC;QACF,OAAO;KACR;IAED,MAAM,EAAE,CAAC,QAAQ,CAAC,SAAS,CACzB,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,cAAc,CAAC,EAC3C,IAAA,sCAA0B,EAAC,YAAY,CAAC,CACzC,CAAC;IAEF,MAAM,EAAE,CAAC,QAAQ,CAAC,SAAS,CACzB,IAAI,CAAC,IAAI,CAAC,gBAAgB,EAAE,YAAY,CAAC,EACzC,IAAA,oCAAwB,GAAE,CAC3B,CAAC;AACJ,CAAC;AAzCD,8CAyCC","sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\n// @ts-expect-error - clack is ESM and TS complains about that. It works though\nimport clack from '@clack/prompts';\n\nimport { PartialSvelteConfig } from './sdk-setup';\nimport {\n  getSentryExampleApiRoute,\n  getSentryExampleSveltePage,\n} from './templates';\n\n/**\n * Creates example page and API route to test Sentry\n */\nexport async function createExamplePage(\n  svelteConfig: PartialSvelteConfig,\n  projectProps: {\n    selfHosted: boolean;\n    url: string;\n    orgSlug: string;\n    projectId: string;\n  },\n): Promise<void> {\n  const routesDirectory = svelteConfig.kit?.files?.routes || 'src/routes';\n  const exampleRoutePath = path.resolve(\n    path.join(routesDirectory, 'sentry-example-page'),\n  );\n\n  if (!fs.existsSync(routesDirectory)) {\n    clack.log.warn(\n      `Couldn't find your routes directory. Creating it now: ${routesDirectory}`,\n    );\n    fs.mkdirSync(routesDirectory, { recursive: true });\n  }\n\n  if (!fs.existsSync(exampleRoutePath)) {\n    fs.mkdirSync(exampleRoutePath);\n  } else {\n    clack.log.warn(\n      `It seems like a sentry example page already exists (${path.basename(\n        exampleRoutePath,\n      )}). Skipping creation of example route.`,\n    );\n    return;\n  }\n\n  await fs.promises.writeFile(\n    path.join(exampleRoutePath, '+page.svelte'),\n    getSentryExampleSveltePage(projectProps),\n  );\n\n  await fs.promises.writeFile(\n    path.join(exampleRoutePath, '+server.js'),\n    getSentryExampleApiRoute(),\n  );\n}\n"]}