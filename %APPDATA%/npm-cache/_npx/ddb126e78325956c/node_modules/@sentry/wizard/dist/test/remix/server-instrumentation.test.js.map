{"version":3,"file":"server-instrumentation.test.js","sourceRoot":"","sources":["../../../test/remix/server-instrumentation.test.ts"],"names":[],"mappings":";;AAAA,mCAA8C;AAC9C,yDAA8E;AAE9E,IAAA,iBAAQ,EAAC,mCAAmC,EAAE,GAAG,EAAE;IACjD,IAAA,WAAE,EAAC,6CAA6C,EAAE,GAAG,EAAE;QACrD,MAAM,MAAM,GAAG,IAAA,6CAAiC,EAAC,uBAAuB,EAAE;YACxE,WAAW,EAAE,IAAI;YACjB,MAAM,EAAE,IAAI;SACb,CAAC,CAAC;QAEH,IAAA,eAAM,EAAC,MAAM,CAAC,sBAAsB,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC;aAClD,qBAAqB,CAAC;;;;;;;KAOxB,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;IAEH,IAAA,WAAE,EAAC,0EAA0E,EAAE,GAAG,EAAE;QAClF,MAAM,MAAM,GAAG,IAAA,6CAAiC,EAAC,uBAAuB,EAAE;YACxE,WAAW,EAAE,KAAK;YAClB,MAAM,EAAE,IAAI;SACb,CAAC,CAAC;QAEH,IAAA,eAAM,EAAC,MAAM,CAAC,sBAAsB,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC;aAClD,qBAAqB,CAAC;;;;;;KAMxB,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["import { describe, expect, it } from 'vitest';\nimport { generateServerInstrumentationFile } from '../../src/remix/sdk-setup';\n\ndescribe('generateServerInstrumentationFile', () => {\n  it('should generate server instrumentation file', () => {\n    const result = generateServerInstrumentationFile('https://sentry.io/123', {\n      performance: true,\n      replay: true,\n    });\n\n    expect(result.instrumentationFileMod.generate().code)\n      .toMatchInlineSnapshot(`\n      \"import * as Sentry from \"@sentry/remix\";\n\n      Sentry.init({\n          dsn: \"https://sentry.io/123\",\n          tracesSampleRate: 1\n      })\"\n    `);\n  });\n\n  it('should generate server instrumentation file when performance is disabled', () => {\n    const result = generateServerInstrumentationFile('https://sentry.io/123', {\n      performance: false,\n      replay: true,\n    });\n\n    expect(result.instrumentationFileMod.generate().code)\n      .toMatchInlineSnapshot(`\n      \"import * as Sentry from \"@sentry/remix\";\n\n      Sentry.init({\n          dsn: \"https://sentry.io/123\"\n      })\"\n    `);\n  });\n});\n"]}