{"version":3,"file":"configure-sentry-cli.js","sourceRoot":"","sources":["../../../src/apple/configure-sentry-cli.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+EAA+E;AAC/E,6DAAmC;AACnC,qDAAuC;AACvC,kDAA0B;AAE1B,0CAAuC;AACvC,sEAAwD;AAExD,SAAgB,kBAAkB,CAAC,EACjC,UAAU,EACV,SAAS,GAIV;IACC,IAAA,aAAK,EAAC,sCAAsC,eAAK,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;IACtE,WAAW,CAAC,iBAAiB,CAAC,UAAU,EAAE,EAAE,UAAU,EAAE,SAAS,EAAE,CAAC,CAAC;IACrE,iBAAK,CAAC,GAAG,CAAC,IAAI,CACZ,aAAa,eAAK,CAAC,IAAI,CACrB,cAAc,CACf;;4BAEuB,eAAK,CAAC,IAAI,CAAC,YAAY,CAAC;UAC1C,eAAK,CAAC,IAAI,CACd,mBAAmB,CACpB,8HAA8H,CAChI,CAAC;IACF,MAAM,CAAC,MAAM,CAAC,uBAAuB,EAAE,IAAI,CAAC,CAAC;IAC7C,IAAA,aAAK,EAAC,0BAA0B,eAAK,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC;AACjE,CAAC;AArBD,gDAqBC","sourcesContent":["// @ts-expect-error - clack is ESM and TS complains about that. It works though\nimport clack from '@clack/prompts';\nimport * as Sentry from '@sentry/node';\nimport chalk from 'chalk';\n\nimport { debug } from '../utils/debug';\nimport * as SentryUtils from '../utils/sentrycli-utils';\n\nexport function configureSentryCLI({\n  projectDir,\n  authToken,\n}: {\n  projectDir: string;\n  authToken: string;\n}) {\n  debug(`Creating sentryclirc file at path: ${chalk.cyan(projectDir)}`);\n  SentryUtils.createSentryCLIRC(projectDir, { auth_token: authToken });\n  clack.log.info(\n    `Created a ${chalk.cyan(\n      '.sentryclirc',\n    )} file in your project directory to provide an auth token for Sentry CLI.\n    \nIt was also added to your ${chalk.cyan('.gitignore')} file.\nSet the ${chalk.cyan(\n      'SENTRY_AUTH_TOKEN',\n    )} environment variable in your CI environment. See https://docs.sentry.io/cli/configuration/#auth-token for more information.`,\n  );\n  Sentry.setTag('sentry-cli-configured', true);\n  debug(`Sentry CLI configured: ${chalk.cyan(true.toString())}`);\n}\n"]}